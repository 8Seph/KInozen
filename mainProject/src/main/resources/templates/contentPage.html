<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml" lang="RU">
<head>
    <title>[[ ${content.name} ]]</title>
    <head th:replace="blocks/header.html :: head"></head>
</head>
<body class="custom_class">
<div id="__next">
    <div class="wrapper">
        <div class="wrapper">
            <head th:replace="blocks/header.html :: menu"></head>
            <div class="content ">
                <div class="movie" itemscope="" itemtype="">
                    <div class="movie__wrapper">
                        <div class="movie__bg">
                            <img th:src="@{/images/d781b63575af29fb87c066e933ec10b7-10934-50ec73dd18914659b88afadcb0d99dcb.jpg}"
                                 class="movie__bg-image" th:alt="${content.name}"
                                 style="transform: translate3d(0px, 0%, 0px);">
                            <div class="movie__bg-shade"></div>
                            <div class="movie__left-shade"></div>
                            <div class="movie__header">
                                <div th:if="${content.type.ordinal() == 1}" class="breadcrumbs">
                                    <div class="breadcrumbs__item">
                                        <a class="breadcrumbs__href" href="/kinozen">Главная</a>&nbsp;/&nbsp;
                                    </div>
                                    <div class="breadcrumbs__item">
                                        <a class="breadcrumbs__href" href="/kinozen/content/films">Фильмы</a>&nbsp;/&nbsp;
                                    </div>
                                    <div class="breadcrumbs__item" th:text="${content.name}"></div>
                                </div>
                                <div th:if="${content.type.ordinal() == 0}" class="breadcrumbs">
                                    <div class="breadcrumbs__item">
                                        <a class="breadcrumbs__href" href="/kinozen">Главная</a>/&nbsp;
                                    </div>
                                    <div class="breadcrumbs__item">
                                        <a class="breadcrumbs__href" href="/kinozen/content/serial">Сериалы</a>&nbsp;/&nbsp;
                                    </div>
                                    <div th:if="${currentSeason == null}" class="breadcrumbs__item" th:text="${content.name}"></div>
                                    <div th:if="${currentSeason != null}" class="breadcrumbs__item">
                                        <a class="breadcrumbs__href" th:href="@{'/content/' + ${content.url}}"
                                           th:text="${content.name}"></a>
                                    </div>
                                    <div th:if="${currentSeason != null}" class="breadcrumbs__item" th:text="'/ Cезон ' + ${currentSeason.numberSeason}"></div>
                                </div>
                                <div class="movie__logo">
                                    <span th:text="${content.name}"></span>
                                    <span th:if="${currentSeason != null}"
                                          th:text="'| Cезон ' + ${currentSeason.numberSeason}"></span>
                                </div>
                                <div class="movie__original-title"></div>
                                <div class="movie__description-data no-trailer">
                                    <div class="movie__description-additional_no-trailer" style="width: 1000px">
                                        <div class="movie__description-data_text">
                                            <div class="movie__data-col movie__data-col_title">Описание
                                                <span th:if="${currentSeason != null}" th:text="'сезона:'"></span>
                                                <span th:unless="${currentSeason != null}">
                                                    <span th:if="${content.type.ordinal() == 0}"
                                                          th:text="'сериала:'"></span>
                                                    <span th:if="${content.type.ordinal() == 1}"
                                                          th:text="'фильма:'"></span>
                                                </span>
                                            </div>
                                            <span itemprop="description" th:text="${description}"></span>
                                            <div class="movie__data-col movie__data-col_title">Режиссеры:</div>
                                            <div class="movie__data-col movie__data-col_content"
                                                 th:each="d, iterator : ${content.directors}">
                                                <span itemprop="director"
                                                      th:text="${d.firstName} + ' ' + ${d.lastName}"></span>
                                            </div>
                                            <div class="movie__data-col movie__data-col_title">В ролях:</div>
                                            <div class="movie__data-col movie__data-col_content"
                                                 th:each="a, iterator : ${content.actors}">
                                                <span itemprop="actor"
                                                      th:text="${a.firstName} + ' ' + ${a.lastName}"></span>
                                            </div>
                                            <div class="movie__data-col movie__data-col_title">Рейтинг:</div>
                                            <div class="movie__data-col movie__data-col_content">
                                                <span th:if="${content.likes.size() == 0}">Пока никто не оценил этот контент</span>
                                                <span th:if="${content.likes.size() > 0}"
                                                      th:text="'Понравилось: ' + ${content.likes.size()}"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="movie__seasons">
                                    <div th:if="${content.type.ordinal() == 0}"  class="movie__seasons-title">Сезоны:</div>
                                    <div class="movie__seasons-items">
                                        <a class="movie__seasons-item"
                                           th:each="s, iterator : ${seasons}"
                                           th:href="@{'/content/' + ${content.url} + '/' + ${s.url}}"
                                           th:text="${s.numberSeason}">
                                        </a>
                                    </div>
                                </div>
                                <br>
                                <div th:if="${episodes != null}">
                                    <form th:action="@{''}" method="get">
                                        <select name="episode">
                                            <option th:text="'Выберите серию'" th:value="null"></option>
                                            <!--suppress ThymeleafVariablesResolveInspection -->
                                            <option th:each="e : ${episodes}"
                                                    th:value="${e.numberEpisode}"
                                                    th:text="${e.numberEpisode}+ '. ' + ${e.name}">
                                            </option>
                                        </select>
                                        <button type="submit">применить</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="movie__content">
                            <div class="movie__title">
                                <div class="movie__title-elem movie__title-buttons"></div>
                                <div class="movie__title-elem movie__title-text ">
                                    <h1 itemprop="name"></h1>
                                </div>
                            </div>
                            <H3 th:if="${currentEpisode != null}" style="margin-bottom: 10px">
                                <span th:text="'Эпизод ' + ${currentEpisode.numberEpisode} + '. ' + ${currentEpisode.name}"></span>
                            </H3>

                            <div th:if="${idEntity != null}">
                                <div class="movie__playVideo" style="margin-bottom: 50px">
                                    <video controls width="850" height="440">
                                        <source th:src="@{/player/video/{id}(id=${idEntity})}"
                                                type="video/mp4">
                                    </video>
                                </div>
                            </div>
                            <div>
                                <div th:if="${idEntity == null}" class="movie__playVideo" style="margin-bottom: 50px">
                                    <iframe width="850" height="440" src="https://www.youtube.com/embed/dB_pB2v1FZQ"
                                            frameborder="0"
                                            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                            allowfullscreen></iframe>
                                </div>
                            </div>
                            <head th:replace="blocks/footer.html :: footer"></head>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

</body>
</html>